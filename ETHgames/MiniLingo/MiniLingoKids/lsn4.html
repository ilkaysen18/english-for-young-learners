<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lesson 4 | Itâ€™s not summer.</title>

<style>
  body {
    font-family: 'Montserrat', sans-serif;
    background: #eef6ff;
    margin: 0;
  }

  header {
    background: #4a90e2;
    padding: 18px;
    color: white;
    text-align: center;
    font-size: 22px;
    font-weight: 700;
  }

  .section {
    padding: 20px;
  }

  h2 {
    margin: 0 0 14px;
    font-size: 20px;
    font-weight: 600;
  }

  .card {
    background: #fff;
    padding: 16px;
    border-radius: 14px;
    margin-bottom: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: 0.15s;
  }

  .card:active {
    transform: scale(0.97);
  }

  .emoji {
    font-size: 32px;
  }

  .option {
    background: #fff;
    border: 2px solid #eee;
    padding: 14px;
    border-radius: 12px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: 0.15s;
  }

  .option.correct {
    background: #e8fbe8;
    border-color: #46c46c;
  }

  .option.wrong {
    background: #ffeaea;
    border-color: #ff6b6b;
  }

  #next-btn,
  #finish-btn {
    display: none;
    background: #4a90e2;
    color: white;
    padding: 14px;
    width: 100%;
    text-align: center;
    border-radius: 12px;
    font-weight: 600;
    margin-top: 16px;
    cursor: pointer;
  }

  #finish-btn {
    background: #46c46c;
  }
</style>
</head>

<body>

<header>Lesson 4 â€” Itâ€™s not summer.</header>

<!-- LEARN -->
<div class="section" id="learn">
  <h2>Learn</h2>

  <div class="card" onclick="say('Itâ€™s not spring')">
    <div>Itâ€™s not spring.</div>
    <div class="emoji">ğŸŒ±</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not summer')">
    <div>Itâ€™s not summer.</div>
    <div class="emoji">â˜€ï¸</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not autumn')">
    <div>Itâ€™s not autumn.</div>
    <div class="emoji">ğŸ‚</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not winter')">
    <div>Itâ€™s not winter.</div>
    <div class="emoji">â„ï¸</div>
  </div>
</div>

<!-- PRACTICE -->
<div class="section" id="practice">
  <h2>Practice</h2>

  <p><strong>Which one means â€œItâ€™s not summerâ€?</strong></p>

  <div class="option" onclick="check(this, true)">â˜€ï¸ Itâ€™s not summer.</div>
  <div class="option" onclick="check(this, false)">ğŸŒ± Itâ€™s not spring.</div>
  <div class="option" onclick="check(this, false)">ğŸ‚ Itâ€™s not autumn.</div>
  <div class="option" onclick="check(this, false)">â„ï¸ Itâ€™s not winter.</div>

  <div id="next-btn" onclick="goReview()">Continue</div>
</div>

<!-- REVIEW -->
<div class="section" id="review" style="display:none;">
  <h2>Review</h2>

  <p>Tap and say the sentence.</p>

  <div class="card" onclick="say('Itâ€™s not spring')">
    <div>ğŸŒ± Itâ€™s not spring.</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not summer')">
    <div>â˜€ï¸ Itâ€™s not summer.</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not autumn')">
    <div>ğŸ‚ Itâ€™s not autumn.</div>
  </div>

  <div class="card" onclick="say('Itâ€™s not winter')">
    <div>â„ï¸ Itâ€™s not winter.</div>
  </div>

  <div id="finish-btn" onclick="finishLesson()">Finish Lesson</div>
</div>

<script>
function say(t) {
  let u = new SpeechSynthesisUtterance(t);
  u.lang = 'en-US';
  speechSynthesis.speak(u);
}

let done = false;

function check(el, correct) {
  if (done) return;

  if (correct) el.classList.add('correct');
  else el.classList.add('wrong');

  done = true;
  document.getElementById('next-btn').style.display = 'block';
}

function goReview() {
  document.getElementById('practice').style.display = 'none';
  document.getElementById('review').style.display = 'block';
}

function finishLesson() {
  let state = JSON.parse(localStorage.getItem('minilingoState') || '{}');
  state.l4 = 100;
  state.xp = (state.xp || 0) + 10;
  state.streak = (state.streak || 0) + 1;
  localStorage.setItem('minilingoState', JSON.stringify(state));

  window.location.href = 'index.html';
}

document.getElementById('finish-btn').style.display = 'block';
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids English Learning - 50 Fun Topics!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chewy&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --sunny-yellow: #FFE66D;
            --bright-orange: #FF8C42;
            --happy-pink: #FF6B9D;
            --sky-blue: #4ECDC4;
            --grass-green: #95E1D3;
            --ocean-blue: #38A3A5;
            --purple-fun: #9D65C9;
            --text-dark: #2C3E50;
            --text-light: #7F8C8D;
            --card-beige: #FFF5E6;
            --card-white: #FFFFFF;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        .dark {
            --sunny-yellow: #3A3A3A;
            --bright-orange: #4A4A4A;
            --card-white: #2D3436;
            --card-beige: #3E3E3E;
            --text-dark: #E8E8E8;
            --text-light: #B8B8B8;
            --shadow: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--sunny-yellow) 0%, var(--grass-green) 100%);
            color: var(--text-dark);
            min-height: 100vh;
            padding-bottom: 60px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 32px;
            box-shadow: 0 4px 20px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-family: 'Chewy', cursive;
            font-size: 32px;
            color: var(--ocean-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-emoji {
            font-size: 40px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .stars-display {
            background: linear-gradient(135deg, var(--purple-fun), var(--happy-pink));
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .progress-section {
            background: white;
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 40px;
            box-shadow: 0 8px 24px var(--shadow);
        }

        .progress-bar {
            background: #E0E0E0;
            height: 36px;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--sky-blue), var(--ocean-blue));
            height: 100%;
            transition: width 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 20px;
            font-weight: 700;
            color: white;
            font-size: 18px;
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .topic-card {
            background: white;
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px var(--shadow);
            border: 4px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .dark .topic-card {
            background: var(--card-white);
        }

        .topic-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--happy-pink), var(--bright-orange), var(--sunny-yellow));
        }

        .topic-card:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 12px 32px var(--shadow);
            border-color: var(--ocean-blue);
        }

        .topic-emoji {
            font-size: 64px;
            margin-bottom: 16px;
            display: block;
        }

        .topic-name {
            font-weight: 700;
            font-size: 20px;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .topic-subtitle {
            font-size: 14px;
            color: var(--text-light);
            font-weight: 600;
        }

        .topic-card.completed::after {
            content: '‚≠ê';
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 28px;
            animation: sparkle 1s infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.2) rotate(15deg); }
        }

        /* Lesson View */
        .lesson-view {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--sunny-yellow) 0%, var(--grass-green) 100%);
            z-index: 200;
            overflow-y: auto;
        }

        .lesson-view.active {
            display: block;
        }

        .lesson-header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 32px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 4px 16px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .back-btn {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: var(--ocean-blue);
            color: white;
            border: none;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-weight: 700;
        }

        .back-btn:hover {
            transform: scale(1.1);
            background: var(--sky-blue);
        }

        .lesson-title {
            font-family: 'Chewy', cursive;
            font-size: 32px;
            color: var(--ocean-blue);
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .page-indicator {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .page-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D0D0D0;
            transition: all 0.3s ease;
        }

        .page-dot.active {
            background: var(--ocean-blue);
            transform: scale(1.3);
        }

        .lesson-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        .lesson-page {
            display: none;
        }

        .lesson-page.active {
            display: block;
        }

        /* Page 1: Vocabulary Cards - Optimized for Desktop Presentation */
        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 32px;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .vocab-item {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .vocab-card {
            background: var(--card-beige);
            border-radius: 20px;
            padding: 24px 16px;
            text-align: center;
            box-shadow: 0 6px 20px var(--shadow);
            transition: all 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .vocab-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px var(--shadow);
        }

        .vocab-emoji {
            font-size: 56px;
            display: block;
            margin-bottom: 8px;
        }

        .vocab-description {
            font-size: 15px;
            color: var(--text-dark);
            font-weight: 600;
            text-align: center;
            line-height: 1.4;
        }

        .vocab-word {
            font-weight: 700;
            color: var(--text-dark);
            font-size: 17px;
        }

        /* Page 2: Matching Activity - Optimized for Desktop Fit-to-Scale */
        .matching-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .matching-title {
            font-family: 'Chewy', cursive;
            font-size: 24px;
            text-align: center;
            color: var(--ocean-blue);
            margin-bottom: 20px;
        }

        .matching-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 20px;
        }

        .matching-column {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .matching-item {
            background: white;
            border-radius: 14px;
            padding: 10px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--shadow);
            border: 3px solid transparent;
            min-height: 52px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
        }

        .matching-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px var(--shadow);
        }

        .matching-item.selected {
            border-color: var(--ocean-blue);
            background: var(--sky-blue);
            color: white;
        }

        .matching-item.correct {
            border-color: #2ECC71;
            background: #2ECC71;
            color: white;
            pointer-events: none;
        }

        .matching-item.incorrect {
            border-color: #E74C3C;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .matching-emoji {
            font-size: 32px;
        }

        .matching-score {
            text-align: center;
            font-size: 20px;
            font-weight: 700;
            color: var(--ocean-blue);
            margin-top: 12px;
        }

        /* Page 3: Google Docs Iframe - Optimized for Desktop Fit-to-Scale */
        .iframe-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .iframe-title {
            font-family: 'Chewy', cursive;
            font-size: 24px;
            text-align: center;
            color: var(--ocean-blue);
            margin-bottom: 20px;
        }

        .iframe-display {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 6px 20px var(--shadow);
            margin-bottom: 24px;
        }

        .iframe-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio - fits better on desktop */
            overflow: hidden;
            border-radius: 12px;
            background: #F5F5F5;
        }

        .iframe-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .iframe-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-light);
            font-size: 18px;
        }

        /* Navigation Buttons */
        .lesson-nav {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 32px;
        }

        .nav-btn {
            background: linear-gradient(135deg, var(--sky-blue), var(--ocean-blue));
            color: white;
            border: none;
            border-radius: 20px;
            padding: 16px 36px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(56, 163, 165, 0.4);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .complete-btn {
            background: linear-gradient(135deg, #2ECC71, #27AE60);
        }

        .complete-btn:hover {
            box-shadow: 0 10px 30px rgba(46, 204, 113, 0.4);
        }

        input, button {
            font-size: 16px;
        }

        @media (max-width: 1024px) {
            .vocab-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .matching-grid {
                gap: 24px;
            }
        }

        @media (max-width: 768px) {
            .logo {
                font-size: 24px;
            }

            .logo-emoji {
                font-size: 32px;
            }

            .stars-display {
                padding: 10px 16px;
                font-size: 16px;
            }

            .header {
                padding: 16px 20px;
            }

            .container {
                padding: 24px 16px;
            }

            .topics-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 16px;
            }

            .topic-emoji {
                font-size: 48px;
            }

            .topic-name {
                font-size: 16px;
            }

            .topic-subtitle {
                font-size: 12px;
            }

            .lesson-header {
                padding: 16px 20px;
            }

            .lesson-title {
                font-size: 24px;
            }

            .back-btn {
                width: 44px;
                height: 44px;
                font-size: 24px;
            }

            .lesson-content {
                padding: 24px 16px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .vocab-emoji {
                font-size: 60px;
            }

            .vocab-description {
                font-size: 15px;
            }

            .matching-grid {
                grid-template-columns: 1fr;
                gap: 32px;
            }

            .nav-btn {
                padding: 16px 32px;
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .topics-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .lesson-nav {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="home-view">
        <div class="header">
            <div class="logo" onclick="goHome()">
                <span class="logo-emoji">ü¶ò</span>
                <span>English Training Hub üåü Kids!</span>
            </div>
            <div class="stars-display">
                <span>‚≠ê</span>
                <span id="stars-count">0</span>
            </div>
        </div>

        <div class="container">
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%">
                        <span id="progress-text">0/50</span>
                    </div>
                </div>
            </div>

            <div class="topics-grid" id="topics-grid"></div>
        </div>
    </div>

    <div class="lesson-view" id="lesson-view">
        <div class="lesson-header">
            <button class="back-btn" onclick="exitLesson()">‚Üê</button>
            <div class="lesson-title" id="lesson-title"></div>
            <div class="page-indicator">
                <div class="page-dot active" data-page="0"></div>
                <div class="page-dot" data-page="1"></div>
                <div class="page-dot" data-page="2"></div>
            </div>
        </div>
        <div class="lesson-content" id="lesson-content"></div>
    </div>

    <script>
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        const topics = [
            { id: 1, emoji: 'üêì', name: 'Farm Animals', subtitle: 'Learn farm friends' },
            { id: 2, emoji: 'ü¶Å', name: 'Zoo Animals', subtitle: 'Wild and fun!' },
            { id: 3, emoji: 'üêï', name: 'Pets', subtitle: 'Animals at home' },
            { id: 4, emoji: 'üçé', name: 'Fruits', subtitle: 'Yummy and healthy' },
            { id: 5, emoji: 'ü•ï', name: 'Vegetables', subtitle: 'Good for you' },
            { id: 6, emoji: 'ü•§', name: 'Drinks', subtitle: 'What we drink' },
            { id: 7, emoji: 'üç™', name: 'Snacks', subtitle: 'Tasty treats' },
            { id: 8, emoji: 'üçΩÔ∏è', name: 'Meals', subtitle: 'Breakfast & more' },
            { id: 9, emoji: 'üé®', name: 'Colors', subtitle: 'Rainbow fun' },
            { id: 10, emoji: '‚≠ê', name: 'Shapes', subtitle: 'Circles and more' },
            { id: 11, emoji: 'üî¢', name: 'Numbers 1-10', subtitle: 'Count with me' },
            { id: 12, emoji: 'üíØ', name: 'Numbers 11-20', subtitle: 'Bigger numbers' },
            { id: 13, emoji: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', name: 'Family', subtitle: 'People we love' },
            { id: 14, emoji: 'üñêÔ∏è', name: 'Body Parts', subtitle: 'Our amazing body' },
            { id: 15, emoji: 'üòä', name: 'Face Parts', subtitle: 'Eyes, nose, mouth' },
            { id: 16, emoji: 'üëï', name: 'Tops', subtitle: 'Shirts and more' },
            { id: 17, emoji: 'üëñ', name: 'Bottoms', subtitle: 'Pants and skirts' },
            { id: 18, emoji: 'üëü', name: 'Shoes & Hats', subtitle: 'What we wear' },
            { id: 19, emoji: '‚òÄÔ∏è', name: 'Weather', subtitle: 'Sunny or rainy?' },
            { id: 20, emoji: 'üçÇ', name: 'Seasons', subtitle: 'Four seasons' },
            { id: 21, emoji: 'üìÖ', name: 'Days', subtitle: 'Days of the week' },
            { id: 22, emoji: '‚úèÔ∏è', name: 'School Things', subtitle: 'Pencils and books' },
            { id: 23, emoji: 'ü™ë', name: 'Classroom', subtitle: 'Desk, chair, board' },
            { id: 24, emoji: 'üß∏', name: 'Toys', subtitle: 'Fun to play with' },
            { id: 25, emoji: '‚öΩ', name: 'Sports', subtitle: 'Games we play' },
            { id: 26, emoji: 'üé∏', name: 'Instruments', subtitle: 'Make music' },
            { id: 27, emoji: 'üöó', name: 'Vehicles', subtitle: 'Cars and buses' },
            { id: 28, emoji: 'üè™', name: 'Places in Town', subtitle: 'Store, park, school' },
            { id: 29, emoji: 'üè†', name: 'Rooms', subtitle: 'Kitchen, bedroom' },
            { id: 30, emoji: 'üõãÔ∏è', name: 'Furniture', subtitle: 'Sofa, table, bed' },
            { id: 31, emoji: 'üç≥', name: 'Kitchen Items', subtitle: 'Cooking tools' },
            { id: 32, emoji: 'üöø', name: 'Bathroom', subtitle: 'Bath and shower' },
            { id: 33, emoji: 'üòÉ', name: 'Feelings', subtitle: 'Happy or sad?' },
            { id: 34, emoji: 'üåÖ', name: 'Daily Routine', subtitle: 'Wake up, sleep' },
            { id: 35, emoji: 'ü§∏', name: 'Playing', subtitle: 'Jump, run, play' },
            { id: 36, emoji: 'üö∂', name: 'Movement', subtitle: 'Walk, sit, stand' },
            { id: 37, emoji: 'üå≥', name: 'Plants', subtitle: 'Trees and flowers' },
            { id: 38, emoji: '‚òÅÔ∏è', name: 'Sky', subtitle: 'Sun, moon, stars' },
            { id: 39, emoji: 'üêù', name: 'Insects', subtitle: 'Bees and bugs' },
            { id: 40, emoji: 'üê†', name: 'Ocean Animals', subtitle: 'Fish and more' },
            { id: 41, emoji: 'ü¶Ö', name: 'Birds', subtitle: 'Animals that fly' },
            { id: 42, emoji: 'üë®‚Äç‚öïÔ∏è', name: 'Jobs', subtitle: 'What people do' },
            { id: 43, emoji: 'üé≠', name: 'Hobbies', subtitle: 'Fun activities' },
            { id: 44, emoji: 'üõù', name: 'Park', subtitle: 'Play outside' },
            { id: 45, emoji: 'üèñÔ∏è', name: 'Beach', subtitle: 'Sand and waves' },
            { id: 46, emoji: 'üå≤', name: 'Forest', subtitle: 'Trees and animals' },
            { id: 47, emoji: 'üéÇ', name: 'Birthday', subtitle: 'Party time!' },
            { id: 48, emoji: 'üìè', name: 'Size Words', subtitle: 'Big and small' },
            { id: 49, emoji: 'üèÉ', name: 'Speed Words', subtitle: 'Fast and slow' },
            { id: 50, emoji: 'üëã', name: 'Greetings', subtitle: 'Hello, goodbye' }
        ],

        // Iframe URLs for each lesson (leave empty string '' if no iframe)
        // To add an iframe URL, paste the Google Docs embed link or other iframe URL here
        <script>
        const lessonIframes = {
            lesson1: "https://www.canva.com/design/DAG5XQgxwsI/vmCQWnyXg5lapjbsnYvRsg/view?embed",
            lesson2: "",
            lesson3: "",
            lesson4: "",
            lesson5: ""
        };
        </script>
        ],
        

        const lessonData = {
            1: [
                { emoji: 'üêÑ', word: 'Cow', desc: "It's a black and white cow." },
                { emoji: 'üê∑', word: 'Pig', desc: "The pig is pink." },
                { emoji: 'üêë', word: 'Sheep', desc: "It's a white sheep." },
                { emoji: 'üêì', word: 'Chicken', desc: "It's a small chicken." },
                { emoji: 'üê¥', word: 'Horse', desc: "The horse is big and brown." },
                { emoji: 'ü¶Ü', word: 'Duck', desc: "The duck is small." }
            ],
            2: [
                { emoji: 'ü¶Å', word: 'Lion', desc: "The lion is big and loud." },
                { emoji: 'üêò', word: 'Elephant', desc: "It's a big elephant." },
                { emoji: 'ü¶í', word: 'Giraffe', desc: "The giraffe is tall. It has brown spots." },
                { emoji: 'ü¶ì', word: 'Zebra', desc: "The zebra is short. It has black stripes." },
                { emoji: 'üêª', word: 'Bear', desc: "The bear is big." },
                { emoji: 'üêµ', word: 'Monkey', desc: "The monkey is small." }
            ],
            3: [
                { emoji: 'üêï', word: 'Dog', desc: "The dog can run and jump." },
                { emoji: 'üêà', word: 'Cat', desc: "The cat can run and climb." },
                { emoji: 'üêá', word: 'Rabbit', desc: "The rabbit can hop and jump." },
                { emoji: 'üêπ', word: 'Hamster', desc: "The hamster can run." },
                { emoji: 'üê†', word: 'Fish', desc: "The fish can swim." },
                { emoji: 'üê¶', word: 'Bird', desc: "The bird can fly." }
            ],
            4: [
                { emoji: 'üçé', word: 'Apple', desc: "It's a red apple." },
                { emoji: 'üçì', word: 'Banana', desc: "It's a red strawberry. It has black seeds." },
                { emoji: 'üçâ', word: 'Orange', desc: "It's a red watermelon. It has black seeds." },
                { emoji: 'üçá', word: 'Grapes', desc: "The grapes are sweet." },
                { emoji: 'ü•ù', word: 'Strawberry', desc: "The kiwi is sour." },
                { emoji: 'üçã', word: 'Watermelon', desc: "The lemon is sour." }
            ],
            5: [
                { emoji: 'ü•ï', word: 'Carrot', desc: "The carrot is orange and long." },
                { emoji: 'ü•î', word: 'Potato', desc: "The potato is brown and round." },
                { emoji: 'ü´í', word: 'Broccoli', desc: "The olive is sour." },
                { emoji: 'üåΩ', word: 'Tomato', desc: "The corn is sweet." },
                { emoji: 'üå∂Ô∏è', word: 'Corn', desc: "The pepper is spicy." },
                { emoji: 'ü´õ', word: 'Cucumber', desc: "The peas are sweet." }
            ],
            6: [
                { emoji: 'ü•õ', word: 'Milk', desc: "Is milk cold, warm or hot?" },
                { emoji: 'üßÉ', word: 'Juice', desc: "Is apple juice sweet or sour?" },
                { emoji: 'ü´ñ', word: 'Water', desc: "Is tea brown, black or green?" },
                { emoji: 'ü´ó', word: 'Tea', desc: "Water is fresh." },
                { emoji: 'ü•§', word: 'Soda', desc: "Soda is fizzy." },
                { emoji: '‚òïü•õüßâü•§', word: 'Hot chocolate', desc: "Is hot chocolate sweet? Is ayran sour? Is coconut milk sweet? Is milkshake sweet or sour?" }
            ],
            7: [
                { emoji: 'üç™', word: 'Cookie', desc: "It's a chocolate cookie. It's sweet. It's crunchy" },
                { emoji: 'üçø', word: 'Popcorn', desc: "It's popcorn. It's salty. It's crunchy." },
                { emoji: 'ü•®', word: 'Pretzel', desc: "It's a pretzel. It's salty. It's crunchy." },
                { emoji: 'üç©', word: 'Donut', desc: "It's a chocolate donut. It's sweet. It's soft." },
                { emoji: 'üßÅ', word: 'Cupcake', desc: "It's a strawberry cupcake. It's sweet. It's soft." },
                { emoji: 'üç´', word: 'Chocolate', desc: "It's chocolate. It's sweet. It's crunchy." }
            ],
            8: [
                { emoji: 'üç≥', word: 'Breakfast', desc: "I eat eggs for breakfast." },
                { emoji: 'ü•™', word: 'Lunch', desc: "I eat a sandwich for lunch." },
                { emoji: 'üçù', word: 'Dinner', desc: "I eat spaghetti for dinner." },
                { emoji: 'ü•û', word: 'Pancakes', desc: "The pancakes are fluffy. What shape is a pancake?" },
                { emoji: 'üçï', word: 'Pizza', desc: "The pizza is cheesy. What shape is a pizza slice?" },
                { emoji: 'üåÆ', word: 'Taco', desc: "The taco is crunchy. What shape is a taco?" }
            ],
            9: [
                { emoji: 'üî¥', word: 'Red', desc: "What is something red?" },
                { emoji: 'üîµ', word: 'Blue', desc: "What is something blue?" },
                { emoji: 'üü¢', word: 'Green', desc: "What is something green?" },
                { emoji: 'üü°', word: 'Yellow', desc: "Is the sun yellow or orange?" },
                { emoji: 'üü£', word: 'Purple', desc: "Is a grape purple, red, green or blue?" },
                { emoji: 'üü†', word: 'Orange', desc: "Is a rainbow orange, red, yellow, green, blue or purple?" }
            ],
            10: [
                { emoji: '‚≠ï', word: 'Circle', desc: "What color is the circle?" },
                { emoji: '‚¨ú', word: 'Square', desc: "What color is the square? How many corners? How many sides?" },
                { emoji: 'üî∫', word: 'Triangle', desc: "What color is the triangle? How many corners? How many sides?" },
                { emoji: '‚≠ê', word: 'Star', desc: "What color is the star? How many corners and sides?" },
                { emoji: '‚ù§Ô∏è', word: 'Heart', desc: "What color is the heart? How many corners and sides?" },
                { emoji: '‚ñ≠', word: 'Rectangle', desc: "What color is the rectangle? How many corners and sides?" }
            ],
            11: [
                { emoji: '1Ô∏è‚É£', word: 'One', desc: "üêá - There is 1 rabbit." },
                { emoji: '2Ô∏è‚É£', word: 'Two', desc: "üêàüêà‚Äç‚¨õ - There are 2 cats." },
                { emoji: '3Ô∏è‚É£', word: 'Three', desc: "üê¶ü¶úüêß - There are 3 birds." },
                { emoji: '4Ô∏è‚É£', word: 'Four', desc: "üêïü¶Æüêï‚Äçü¶∫üê© - There are 4 dogs." },
                { emoji: '5Ô∏è‚É£', word: 'Five', desc: "üêîüê£üê•üê§üêì - There are 5 chickens." },
                { emoji: 'üîü', word: 'Ten', desc: "üêíüêµüôàü¶ßüôâüêíüôäü¶ßüêµüêí - There are 10 monkeys." }
            ],
            12: [
                { emoji: '1Ô∏è‚É£1Ô∏è‚É£', word: 'Eleven', desc: "What number is it?" },
                { emoji: '1Ô∏è‚É£2Ô∏è‚É£', word: 'Twelve', desc: "How many months are there?" },
                { emoji: '1Ô∏è‚É£5Ô∏è‚É£', word: 'Fifteen', desc: "ü¶òü¶úüêßü¶Éü¶¢üê•üêπü¶§üêíüê£ü¶öüê†ü™øüê¶üê®ü™øü¶Üü¶âüê§üêì - How many birds do you see?" },
                { emoji: '2Ô∏è‚É£0Ô∏è‚É£', word: 'Twenty', desc: "ü¶òü¶úüêßü¶Éü¶¢üê•üêπü¶§üêíüê£ü¶öüê†ü™øüê¶üê®ü™øü¶Üü¶âüê§üêì - How many animals do you see?" }
            ],
            13: [
                { emoji: 'üë®', word: 'Father', desc: "My father is very tall." },
                { emoji: 'üë©', word: 'Mother', desc: "My mother is very kind." },
                { emoji: 'üë¶', word: 'Brother', desc: "I play with my brother." },
                { emoji: 'üëß', word: 'Sister', desc: "My sister is seven years old." },
                { emoji: 'üë¥', word: 'Grandfather', desc: "My grandfather tells good stories." },
                { emoji: 'üëµ', word: 'Grandmother', desc: "My grandmother makes cookies." }
            ],
            14: [
                { emoji: 'üñêÔ∏è', word: 'Hand', desc: "I have two hands." },
                { emoji: 'ü¶∂', word: 'Foot', desc: "I walk with my two feet." },
                { emoji: 'üí™', word: 'Arm', desc: "My arm is very strong." },
                { emoji: 'ü¶µ', word: 'Leg', desc: "I jump with my legs." },
                { emoji: 'üëÇ', word: 'Ear', desc: "I hear with my two ears." },
                { emoji: 'üëÉ', word: 'Nose', desc: "I smell with my nose." }
            ],
            15: [
                { emoji: 'üëÄ', word: 'Eyes', desc: "I see with my two eyes." },
                { emoji: 'üëÉ', word: 'Nose', desc: "My nose is in the middle." },
                { emoji: 'üëÑ', word: 'Mouth', desc: "I eat with my mouth." },
                { emoji: 'üëÇ', word: 'Ears', desc: "My ears help me hear." },
                { emoji: 'üòä', word: 'Smile', desc: "I have a big happy smile." },
                { emoji: 'ü¶∑', word: 'Teeth', desc: "I brush my white teeth." }
            ],
            16: [
                { emoji: 'üëï', word: 'Shirt', desc: "I wear a blue shirt." },
                { emoji: 'üëî', word: 'Tie', desc: "My dad wears a red tie." },
                { emoji: 'üß•', word: 'Jacket', desc: "The jacket is warm and brown." },
                { emoji: 'üëó', word: 'Dress', desc: "She wears a pretty pink dress." },
                { emoji: 'üéΩ', word: 'Sweater', desc: "My sweater is soft and warm." }
            ],
            17: [
                { emoji: 'üëñ', word: 'Pants', desc: "I wear blue jeans pants." },
                { emoji: 'üëó', word: 'Skirt', desc: "Her skirt is short and green." },
                { emoji: 'ü©≥', word: 'Shorts', desc: "I wear shorts in summer." },
                { emoji: 'üëô', word: 'Swimsuit', desc: "I swim in my red swimsuit." }
            ],
            18: [
                { emoji: 'üëü', word: 'Shoes', desc: "I wear white running shoes." },
                { emoji: 'üß¶', word: 'Socks', desc: "My socks are clean and white." },
                { emoji: 'üëí', word: 'Hat', desc: "The hat protects from the sun." },
                { emoji: 'üß¢', word: 'Cap', desc: "I wear a blue baseball cap." },
                { emoji: 'ü•æ', word: 'Boots', desc: "I wear boots in the rain." }
            ],
            19: [
                { emoji: '‚òÄÔ∏è', word: 'Sunny', desc: "It's a sunny warm day." },
                { emoji: 'üåßÔ∏è', word: 'Rainy', desc: "It's a rainy wet day." },
                { emoji: '‚òÅÔ∏è', word: 'Cloudy', desc: "The sky is gray and cloudy." },
                { emoji: '‚ùÑÔ∏è', word: 'Snowy', desc: "It's a snowy cold day." },
                { emoji: 'üå¨Ô∏è', word: 'Windy', desc: "It's very windy outside." }
            ],
            20: [
                { emoji: 'üå∏', word: 'Spring', desc: "Spring has flowers and birds." },
                { emoji: '‚òÄÔ∏è', word: 'Summer', desc: "Summer is hot and sunny." },
                { emoji: 'üçÇ', word: 'Fall', desc: "Fall has orange and red leaves." },
                { emoji: '‚ùÑÔ∏è', word: 'Winter', desc: "Winter is cold and snowy." }
            ],
            21: [
                { emoji: 'üìÖ', word: 'Monday', desc: "Monday is the first day." },
                { emoji: 'üìÖ', word: 'Tuesday', desc: "Tuesday comes after Monday." },
                { emoji: 'üìÖ', word: 'Wednesday', desc: "Wednesday is in the middle." },
                { emoji: 'üìÖ', word: 'Friday', desc: "Friday is the last school day." },
                { emoji: 'üéâ', word: 'Saturday', desc: "Saturday is a fun weekend day." },
                { emoji: 'üéâ', word: 'Sunday', desc: "Sunday is a rest day." }
            ],
            22: [
                { emoji: '‚úèÔ∏è', word: 'Pencil', desc: "I write with a yellow pencil." },
                { emoji: 'üìö', word: 'Book', desc: "I read a big thick book." },
                { emoji: 'üìì', word: 'Notebook', desc: "I write notes in my notebook." },
                { emoji: '‚úÇÔ∏è', word: 'Scissors', desc: "I cut paper with scissors." },
                { emoji: 'üñçÔ∏è', word: 'Crayon', desc: "I color with red crayons." },
                { emoji: 'üìè', word: 'Ruler', desc: "I measure with a ruler." }
            ],
            23: [
                { emoji: 'ü™ë', word: 'Chair', desc: "I sit on a blue chair." },
                { emoji: 'üìã', word: 'Desk', desc: "I work at my clean desk." },
                { emoji: 'üìñ', word: 'Board', desc: "The teacher writes on the board." },
                { emoji: 'üö™', word: 'Door', desc: "I open the classroom door." },
                { emoji: 'ü™ü', word: 'Window', desc: "I look out the window." }
            ],
            24: [
                { emoji: 'üß∏', word: 'Teddy bear', desc: "My teddy bear is soft and brown." },
                { emoji: 'üéÆ', word: 'Video game', desc: "I play video games after school." },
                { emoji: 'ü™Ä', word: 'Yo-yo', desc: "The yo-yo goes up and down." },
                { emoji: 'üé≤', word: 'Dice', desc: "I roll the dice in games." },
                { emoji: 'ü™Å', word: 'Kite', desc: "The kite flies high in the sky." },
                { emoji: 'üé®', word: 'Art set', desc: "I paint with my art set." }
            ],
            25: [
                { emoji: '‚öΩ', word: 'Soccer', desc: "I play soccer with my friends." },
                { emoji: 'üèÄ', word: 'Basketball', desc: "I shoot the basketball into the hoop." },
                { emoji: 'üéæ', word: 'Tennis', desc: "I hit the tennis ball." },
                { emoji: 'üèä', word: 'Swimming', desc: "I love swimming in the pool." },
                { emoji: 'üö¥', word: 'Cycling', desc: "I ride my bike fast." }
            ],
            26: [
                { emoji: 'üé∏', word: 'Guitar', desc: "I play the guitar with strings." },
                { emoji: 'üéπ', word: 'Piano', desc: "The piano has black and white keys." },
                { emoji: 'ü•Å', word: 'Drums', desc: "I hit the drums with sticks." },
                { emoji: 'üé∫', word: 'Trumpet', desc: "I blow into the shiny trumpet." },
                { emoji: 'üéª', word: 'Violin', desc: "She plays the violin beautifully." }
            ],
            27: [
                { emoji: 'üöó', word: 'Car', desc: "The car is red and fast." },
                { emoji: 'üöå', word: 'Bus', desc: "The yellow bus is very big." },
                { emoji: 'üö≤', word: 'Bicycle', desc: "I ride my bicycle to school." },
                { emoji: '‚úàÔ∏è', word: 'Airplane', desc: "The airplane flies high in the sky." },
                { emoji: 'üöÇ', word: 'Train', desc: "The train runs on the tracks." },
                { emoji: 'üö¢', word: 'Ship', desc: "The big ship sails on the water." }
            ],
            28: [
                { emoji: 'üè´', word: 'School', desc: "I learn at school every day." },
                { emoji: 'üè™', word: 'Store', desc: "We buy food at the store." },
                { emoji: 'üè•', word: 'Hospital', desc: "Doctors work at the hospital." },
                { emoji: 'üèûÔ∏è', word: 'Park', desc: "I play at the green park." },
                { emoji: 'üìö', word: 'Library', desc: "I read books at the library." }
            ],
            29: [
                { emoji: 'üõèÔ∏è', word: 'Bedroom', desc: "I sleep in my cozy bedroom." },
                { emoji: 'üç≥', word: 'Kitchen', desc: "Mom cooks in the kitchen." },
                { emoji: 'üõÅ', word: 'Bathroom', desc: "I wash my hands in the bathroom." },
                { emoji: 'üõãÔ∏è', word: 'Living room', desc: "We watch TV in the living room." },
                { emoji: 'üå≥', word: 'Garden', desc: "We grow flowers in the garden." }
            ],
            30: [
                { emoji: 'üõãÔ∏è', word: 'Sofa', desc: "The sofa is soft and comfortable." },
                { emoji: 'ü™ë', word: 'Chair', desc: "I sit on the wooden chair." },
                { emoji: 'üõèÔ∏è', word: 'Bed', desc: "My bed is warm and cozy." },
                { emoji: 'ü™û', word: 'Table', desc: "We eat at the big table." },
                { emoji: 'üì∫', word: 'TV', desc: "I watch shows on the TV." }
            ],
            31: [
                { emoji: 'üç≥', word: 'Pan', desc: "Mom cooks eggs in the pan." },
                { emoji: 'üî™', word: 'Knife', desc: "I cut food with a knife." },
                { emoji: 'ü•Ñ', word: 'Spoon', desc: "I eat soup with a spoon." },
                { emoji: 'üç¥', word: 'Fork', desc: "I use a fork to eat." },
                { emoji: 'ü•õ', word: 'Cup', desc: "I drink milk from a cup." },
                { emoji: 'üçΩÔ∏è', word: 'Plate', desc: "My food is on the plate." }
            ],
            32: [
                { emoji: 'üöø', word: 'Shower', desc: "I take a warm shower every morning." },
                { emoji: 'üõÅ', word: 'Bathtub', desc: "I splash in the bathtub." },
                { emoji: 'üöΩ', word: 'Toilet', desc: "The toilet is white and clean." },
                { emoji: 'ü™•', word: 'Toothbrush', desc: "I brush my teeth with my toothbrush." },
                { emoji: 'üßº', word: 'Soap', desc: "I wash my hands with soap." }
            ],
            33: [
                { emoji: 'üòä', word: 'Happy', desc: "I feel happy and cheerful." },
                { emoji: 'üò¢', word: 'Sad', desc: "She feels sad and cries." },
                { emoji: 'üò†', word: 'Angry', desc: "He is angry and upset." },
                { emoji: 'üò®', word: 'Scared', desc: "I am scared of the dark." },
                { emoji: 'üò¥', word: 'Tired', desc: "I am tired and sleepy." },
                { emoji: 'ü•≥', word: 'Excited', desc: "I am excited for my birthday." }
            ],
            34: [
                { emoji: '‚è∞', word: 'Wake up', desc: "I wake up at seven o'clock." },
                { emoji: 'ü™•', word: 'Brush teeth', desc: "I brush my teeth after breakfast." },
                { emoji: 'üç≥', word: 'Eat breakfast', desc: "I eat breakfast with my family." },
                { emoji: 'üéí', word: 'Go to school', desc: "I go to school by bus." },
                { emoji: 'üõèÔ∏è', word: 'Go to bed', desc: "I go to bed at nine o'clock." }
            ],
            35: [
                { emoji: 'üèÉ', word: 'Run', desc: "I can run very fast." },
                { emoji: 'ü§∏', word: 'Jump', desc: "I jump high in the air." },
                { emoji: '‚öΩ', word: 'Kick', desc: "I kick the soccer ball." },
                { emoji: 'ü§æ', word: 'Throw', desc: "I throw the ball to my friend." },
                { emoji: 'ü§ù', word: 'Catch', desc: "I catch the flying ball." }
            ],
            36: [
                { emoji: 'üö∂', word: 'Walk', desc: "I walk to school every day." },
                { emoji: 'üèÉ', word: 'Run', desc: "I run fast in the playground." },
                { emoji: 'ü™ë', word: 'Sit', desc: "I sit on the chair quietly." },
                { emoji: 'üßç', word: 'Stand', desc: "I stand up straight and tall." },
                { emoji: 'üõèÔ∏è', word: 'Lie down', desc: "I lie down to rest and sleep." }
            ],
            37: [
                { emoji: 'üå≥', word: 'Tree', desc: "The tree is tall and green." },
                { emoji: 'üå∏', word: 'Flower', desc: "The flower is pink and pretty." },
                { emoji: 'üåø', word: 'Leaf', desc: "The leaf is small and green." },
                { emoji: 'üåπ', word: 'Rose', desc: "The rose smells sweet and nice." },
                { emoji: 'üåª', word: 'Sunflower', desc: "The sunflower is big and yellow." },
                { emoji: 'üåµ', word: 'Cactus', desc: "The cactus has sharp spikes." }
            ],
            38: [
                { emoji: '‚òÄÔ∏è', word: 'Sun', desc: "The sun is bright and warm." },
                { emoji: 'üåô', word: 'Moon', desc: "The moon shines at night." },
                { emoji: '‚≠ê', word: 'Star', desc: "The stars twinkle in the sky." },
                { emoji: '‚òÅÔ∏è', word: 'Cloud', desc: "The cloud is white and fluffy." },
                { emoji: 'üåà', word: 'Rainbow', desc: "The rainbow has seven colors." }
            ],
            39: [
                { emoji: 'üêù', word: 'Bee', desc: "The bee makes sweet honey." },
                { emoji: 'ü¶ã', word: 'Butterfly', desc: "The butterfly has pretty wings." },
                { emoji: 'üêû', word: 'Ladybug', desc: "The ladybug is red with black dots." },
                { emoji: 'üêú', word: 'Ant', desc: "The tiny ant works hard." },
                { emoji: 'ü¶ó', word: 'Cricket', desc: "The cricket chirps at night." }
            ],
            40: [
                { emoji: 'üê†', word: 'Fish', desc: "The fish swims in the ocean." },
                { emoji: 'üêô', word: 'Octopus', desc: "The octopus has eight long arms." },
                { emoji: 'ü¶à', word: 'Shark', desc: "The shark has very sharp teeth." },
                { emoji: 'üê¢', word: 'Turtle', desc: "The turtle moves very slowly." },
                { emoji: 'üê≥', word: 'Whale', desc: "The whale is the biggest animal." },
                { emoji: 'ü¶Ä', word: 'Crab', desc: "The crab walks sideways on the beach." }
            ],
            41: [
                { emoji: 'ü¶Ö', word: 'Eagle', desc: "The eagle is strong and brave." },
                { emoji: 'ü¶ú', word: 'Parrot', desc: "The parrot is colorful and talks." },
                { emoji: 'ü¶â', word: 'Owl', desc: "The owl is awake at night." },
                { emoji: 'üêß', word: 'Penguin', desc: "The penguin cannot fly but swims." },
                { emoji: 'ü¶Ü', word: 'Duck', desc: "The duck quacks and swims." }
            ],
            42: [
                { emoji: 'üë®‚Äç‚öïÔ∏è', word: 'Doctor', desc: "The doctor helps sick people." },
                { emoji: 'üë®‚Äçüè´', word: 'Teacher', desc: "The teacher teaches students every day." },
                { emoji: 'üë®‚Äçüöí', word: 'Firefighter', desc: "The brave firefighter puts out fires." },
                { emoji: 'üëÆ', word: 'Police officer', desc: "The police officer keeps us safe." },
                { emoji: 'üë®‚Äçüç≥', word: 'Chef', desc: "The chef cooks delicious food." }
            ],
            43: [
                { emoji: 'üìñ', word: 'Reading', desc: "I love reading adventure books." },
                { emoji: 'üé®', word: 'Painting', desc: "I enjoy painting colorful pictures." },
                { emoji: 'üéµ', word: 'Singing', desc: "I like singing happy songs." },
                { emoji: 'üíÉ', word: 'Dancing', desc: "She loves dancing to music." },
                { emoji: 'üéÆ', word: 'Gaming', desc: "I play video games after school." }
            ],
            44: [
                { emoji: 'üõù', word: 'Slide', desc: "I slide down the tall slide." },
                { emoji: 'ü§∏', word: 'Swing', desc: "I swing high on the swing." },
                { emoji: 'üå≥', word: 'Tree', desc: "The tree gives cool shade." },
                { emoji: 'ü™ë', word: 'Bench', desc: "I sit on the wooden bench." },
                { emoji: '‚öΩ', word: 'Ball', desc: "I play with the red ball." }
            ],
            45: [
                { emoji: 'üèñÔ∏è', word: 'Sand', desc: "The sand is soft and warm." },
                { emoji: 'üåä', word: 'Wave', desc: "The wave splashes on the shore." },
                { emoji: 'üêö', word: 'Shell', desc: "I find a pretty pink shell." },
                { emoji: '‚òÄÔ∏è', word: 'Sun', desc: "The sun is hot and bright." },
                { emoji: 'üèä', word: 'Swim', desc: "I swim in the cool ocean." }
            ],
            46: [
                { emoji: 'üå≤', word: 'Pine tree', desc: "The pine tree is tall and green." },
                { emoji: 'ü¶å', word: 'Deer', desc: "The deer runs through the forest." },
                { emoji: 'üêøÔ∏è', word: 'Squirrel', desc: "The squirrel eats nuts and acorns." },
                { emoji: 'üçÑ', word: 'Mushroom', desc: "The mushroom grows on the ground." },
                { emoji: 'üåø', word: 'Fern', desc: "The fern is a green plant." }
            ],
            47: [
                { emoji: 'üéÇ', word: 'Cake', desc: "The birthday cake is big and sweet." },
                { emoji: 'üéà', word: 'Balloon', desc: "The balloon floats in the air." },
                { emoji: 'üéÅ', word: 'Present', desc: "I open my birthday present." },
                { emoji: 'üïØÔ∏è', word: 'Candle', desc: "I blow out the candles." },
                { emoji: 'üéâ', word: 'Party', desc: "We have a fun birthday party." }
            ],
            48: [
                { emoji: 'üêò', word: 'Big', desc: "The elephant is very big." },
                { emoji: 'üêú', word: 'Small', desc: "The ant is very small." },
                { emoji: 'üìè', word: 'Long', desc: "The rope is very long." },
                { emoji: 'üìå', word: 'Short', desc: "The pencil is short." },
                { emoji: 'üèîÔ∏è', word: 'Tall', desc: "The mountain is tall and high." }
            ],
            49: [
                { emoji: 'üêÜ', word: 'Fast', desc: "The cheetah runs very fast." },
                { emoji: 'üê¢', word: 'Slow', desc: "The turtle walks very slow." },
                { emoji: 'üöÄ', word: 'Quick', desc: "The rocket is quick and fast." },
                { emoji: 'ü¶•', word: 'Lazy', desc: "The sloth is slow and lazy." }
            ],
            50: [
                { emoji: 'üëã', word: 'Hello', desc: "Hello! Nice to meet you." },
                { emoji: 'üëã', word: 'Goodbye', desc: "Goodbye! See you tomorrow." },
                { emoji: 'üôè', word: 'Please', desc: "Please may I have some water?" },
                { emoji: 'üòä', word: 'Thank you', desc: "Thank you for helping me." },
                { emoji: 'üòä', word: "You're welcome", desc: "You're welcome, my friend." }
            ]
        };

        let progressData = {
            completedTopics: [],
            stars: 0
        };

        let currentTopic = null;
        let currentPage = 0;
        let matchingState = {
            selected: null,
            correctMatches: 0,
            matches: []
        };

        function renderTopics() {
            const grid = document.getElementById('topics-grid');
            grid.innerHTML = '';

            topics.forEach(topic => {
                const card = document.createElement('div');
                card.className = 'topic-card';
                if (progressData.completedTopics.includes(topic.id)) {
                    card.classList.add('completed');
                }

                card.innerHTML = `
                    <span class="topic-emoji">${topic.emoji}</span>
                    <div class="topic-name">${topic.name}</div>
                    <div class="topic-subtitle">${topic.subtitle}</div>
                `;

                card.onclick = () => startTopic(topic);
                grid.appendChild(card);
            });

            updateProgress();
        }

        function updateProgress() {
            const completed = progressData.completedTopics.length;
            const total = topics.length;
            const percentage = Math.round((completed / total) * 100);

            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${completed}/${total}`;
            document.getElementById('stars-count').textContent = progressData.stars;
        }

        function startTopic(topic) {
            currentTopic = topic;
            currentPage = 0;
            document.getElementById('home-view').style.display = 'none';
            document.getElementById('lesson-view').classList.add('active');

            document.getElementById('lesson-title').innerHTML = `
                <span>${topic.emoji}</span>
                <span>${topic.name}</span>
            `;

            updatePageIndicator();
            renderCurrentPage();
        }

        function exitLesson() {
            document.getElementById('lesson-view').classList.remove('active');
            document.getElementById('home-view').style.display = 'block';
        }

        function updatePageIndicator() {
            document.querySelectorAll('.page-dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentPage);
            });
        }

        function renderCurrentPage() {
            const content = document.getElementById('lesson-content');
            content.innerHTML = '';

            if (currentPage === 0) {
                renderVocabularyPage(content);
            } else if (currentPage === 1) {
                renderMatchingPage(content);
            } else if (currentPage === 2) {
                renderIframePage(content);
            }
        }

        function renderVocabularyPage(content) {
            const data = lessonData[currentTopic.id];
            if (!data) return;

            const page = document.createElement('div');
            page.className = 'lesson-page active';

            const grid = document.createElement('div');
            grid.className = 'vocab-grid';

            data.forEach(item => {
                const vocabItem = document.createElement('div');
                vocabItem.className = 'vocab-item';

                vocabItem.innerHTML = `
                    <div class="vocab-card">
                        <span class="vocab-emoji">${item.emoji}</span>
                        <div class="vocab-description">
                            <span class="vocab-word">${item.word}</span>
                        </div>
                    </div>
                    <div class="vocab-description">
                        ${item.desc}
                    </div>
                `;

                grid.appendChild(vocabItem);
            });

            page.appendChild(grid);

            const nav = document.createElement('div');
            nav.className = 'lesson-nav';
            nav.innerHTML = `
                <button class="nav-btn" onclick="nextPage()">Next: Matching Activity ‚Üí</button>
            `;
            page.appendChild(nav);

            content.appendChild(page);
        }

        function renderMatchingPage(content) {
            const data = lessonData[currentTopic.id];
            if (!data) return;

            // Reset matching state
            matchingState = {
                selected: null,
                correctMatches: 0,
                matches: []
            };

            const page = document.createElement('div');
            page.className = 'lesson-page active';

            const container = document.createElement('div');
            container.className = 'matching-container';

            const title = document.createElement('div');
            title.className = 'matching-title';
            title.textContent = 'Match the Words with the Emojis!';
            container.appendChild(title);

            const grid = document.createElement('div');
            grid.className = 'matching-grid';

            // Left column: Words (shuffled)
            const leftColumn = document.createElement('div');
            leftColumn.className = 'matching-column';

            const shuffledWords = [...data].sort(() => Math.random() - 0.5);
            shuffledWords.forEach((item, index) => {
                const wordItem = document.createElement('div');
                wordItem.className = 'matching-item';
                wordItem.textContent = item.word;
                wordItem.dataset.word = item.word;
                wordItem.dataset.side = 'left';
                wordItem.onclick = () => selectMatchingItem(wordItem, item.word);
                leftColumn.appendChild(wordItem);
            });

            // Right column: Emojis (shuffled differently)
            const rightColumn = document.createElement('div');
            rightColumn.className = 'matching-column';

            const shuffledEmojis = [...data].sort(() => Math.random() - 0.5);
            shuffledEmojis.forEach((item, index) => {
                const emojiItem = document.createElement('div');
                emojiItem.className = 'matching-item';
                emojiItem.innerHTML = `<span class="matching-emoji">${item.emoji}</span>`;
                emojiItem.dataset.word = item.word;
                emojiItem.dataset.side = 'right';
                emojiItem.onclick = () => selectMatchingItem(emojiItem, item.word);
                rightColumn.appendChild(emojiItem);
            });

            grid.appendChild(leftColumn);
            grid.appendChild(rightColumn);
            container.appendChild(grid);

            const score = document.createElement('div');
            score.className = 'matching-score';
            score.id = 'matching-score';
            score.textContent = `Matched: 0/${data.length}`;
            container.appendChild(score);

            page.appendChild(container);

            const nav = document.createElement('div');
            nav.className = 'lesson-nav';
            nav.innerHTML = `
                <button class="nav-btn" onclick="previousPage()">‚Üê Back</button>
                <button class="nav-btn" onclick="nextPage()">Next: Activities ‚Üí</button>
            `;
            page.appendChild(nav);

            content.appendChild(page);
        }

        function selectMatchingItem(element, word) {
            // Don't allow selecting already matched items
            if (element.classList.contains('correct')) return;

            // If this is the first selection
            if (!matchingState.selected) {
                // Deselect all
                document.querySelectorAll('.matching-item.selected').forEach(el => {
                    el.classList.remove('selected');
                });
                element.classList.add('selected');
                matchingState.selected = { element, word, side: element.dataset.side };
                return;
            }

            // If clicking the same item, deselect
            if (matchingState.selected.element === element) {
                element.classList.remove('selected');
                matchingState.selected = null;
                return;
            }

            // If clicking on the same side, switch selection
            if (matchingState.selected.side === element.dataset.side) {
                matchingState.selected.element.classList.remove('selected');
                element.classList.add('selected');
                matchingState.selected = { element, word, side: element.dataset.side };
                return;
            }

            // We have two selections from different sides
            if (matchingState.selected.word === word) {
                // Correct match!
                matchingState.selected.element.classList.remove('selected');
                matchingState.selected.element.classList.add('correct');
                element.classList.add('correct');

                matchingState.correctMatches++;
                const totalItems = lessonData[currentTopic.id].length;
                document.getElementById('matching-score').textContent = `Matched: ${matchingState.correctMatches}/${totalItems}`;

                matchingState.selected = null;

                // Check if all matched
                if (matchingState.correctMatches === totalItems) {
                    setTimeout(() => {
                        showMatchingComplete();
                    }, 500);
                }
            } else {
                // Incorrect match
                matchingState.selected.element.classList.add('incorrect');
                element.classList.add('incorrect');

                setTimeout(() => {
                    matchingState.selected.element.classList.remove('selected', 'incorrect');
                    element.classList.remove('incorrect');
                    matchingState.selected = null;
                }, 600);
            }
        }

        function showMatchingComplete() {
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; display: flex; align-items: center; justify-content: center;';

            modal.innerHTML = `
                <div style="background: white; border-radius: 32px; padding: 48px 32px; max-width: 450px; width: 90%; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                    <div style="font-size: 100px; margin-bottom: 24px; animation: bounce 1s infinite;">üéâ</div>
                    <h2 style="font-family: 'Chewy', cursive; font-size: 36px; color: #38A3A5; margin-bottom: 16px;">Perfect Match!</h2>
                    <p style="font-size: 20px; color: #7F8C8D; margin-bottom: 32px;">You matched all the words correctly!</p>
                    <button onclick="this.closest('div[style*=fixed]').remove()" style="background: linear-gradient(135deg, #4ECDC4, #38A3A5); color: white; border: none; padding: 20px 48px; border-radius: 20px; font-size: 20px; font-weight: 700; cursor: pointer; font-family: 'Poppins', sans-serif;">CONTINUE</button>
                </div>
            `;

            document.body.appendChild(modal);
        }

        function renderIframePage(content) {
            const page = document.createElement('div');
            page.className = 'lesson-page active';

            const container = document.createElement('div');
            container.className = 'iframe-container';

            const title = document.createElement('div');
            title.className = 'iframe-title';
            title.textContent = 'Extra Activities';
            container.appendChild(title);

            const display = document.createElement('div');
            display.className = 'iframe-display';

            // Get iframe URL from the iframeUrls object
            const iframeUrl = iframeUrls[currentTopic.id] || '';

            if (iframeUrl) {
                display.innerHTML = `
                    <div class="iframe-wrapper">
                        <iframe src="${iframeUrl}" allowfullscreen></iframe>
                    </div>
                `;
            } else {
                display.innerHTML = `
                    <div class="iframe-wrapper">
                        <div class="iframe-placeholder">
                            <div style="font-size: 64px; margin-bottom: 16px;">üìÑ</div>
                            <div style="font-size: 18px; color: var(--text-light);">No additional activities for this lesson yet</div>
                            <div style="font-size: 14px; color: var(--text-light); margin-top: 12px;">Add an iframe URL in the code to display content here</div>
                        </div>
                    </div>
                `;
            }
            container.appendChild(display);

            page.appendChild(container);

            const nav = document.createElement('div');
            nav.className = 'lesson-nav';
            nav.innerHTML = `
                <button class="nav-btn" onclick="previousPage()">‚Üê Back</button>
                <button class="nav-btn complete-btn" onclick="completeTopic()">Complete Lesson ‚úì</button>
            `;
            page.appendChild(nav);

            content.appendChild(page);
        }

        function nextPage() {
            if (currentPage < 2) {
                currentPage++;
                updatePageIndicator();
                renderCurrentPage();
            }
        }

        function previousPage() {
            if (currentPage > 0) {
                currentPage--;
                updatePageIndicator();
                renderCurrentPage();
            }
        }

        function completeTopic() {
            if (!progressData.completedTopics.includes(currentTopic.id)) {
                progressData.completedTopics.push(currentTopic.id);
                progressData.stars += 10;
            }

            exitLesson();
            renderTopics();
            showCelebration();
        }

        function showCelebration() {
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; display: flex; align-items: center; justify-content: center;';

            modal.innerHTML = `
                <div style="background: white; border-radius: 32px; padding: 48px 32px; max-width: 450px; width: 90%; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                    <div style="font-size: 100px; margin-bottom: 24px; animation: bounce 1s infinite;">üéâ</div>
                    <h2 style="font-family: 'Chewy', cursive; font-size: 36px; color: #38A3A5; margin-bottom: 16px;">Great Job!</h2>
                    <p style="font-size: 20px; color: #7F8C8D; margin-bottom: 32px;">You completed this topic! Keep learning!</p>
                    <button onclick="this.closest('div[style*=fixed]').remove()" style="background: linear-gradient(135deg, #4ECDC4, #38A3A5); color: white; border: none; padding: 20px 48px; border-radius: 20px; font-size: 20px; font-weight: 700; cursor: pointer; font-family: 'Poppins', sans-serif;">CONTINUE</button>
                </div>
            `;

            document.body.appendChild(modal);
            createConfetti();
        }

        function createConfetti() {
            const colors = ['#FF6B9D', '#4ECDC4', '#FFE66D', '#FF8C42', '#95E1D3', '#9D65C9'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.cssText = `position: fixed; width: 10px; height: 10px; background: ${colors[Math.floor(Math.random() * colors.length)]}; left: ${Math.random() * 100}%; top: -10px; pointer-events: none; z-index: 9999; animation: fall 3s linear;`;
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 30);
            }
        }

        const style = document.createElement('style');
        style.textContent = '@keyframes fall { to { transform: translateY(100vh) rotate(360deg); opacity: 0; } }';
        document.head.appendChild(style);

        function goHome() {
            exitLesson();
        }

        renderTopics();
    </script>
</body>
</html>
